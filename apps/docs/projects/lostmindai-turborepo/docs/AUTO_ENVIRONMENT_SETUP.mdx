<Info>
This content was automatically extracted from LostMindAI-TurboRepo.
For the most up-to-date information, refer to the source project.
</Info>

# üîß Automatic Environment Setup Guide

## Overview

This guide explains how to set up automatic environment configuration for your Ubuntu system, similar to Devin AI's automatic environment feature. This will automatically configure your development environment whenever you enter the project directory.

## üöÄ Quick Setup

Run this command to set everything up automatically:

```bash
./scripts/setup-auto-env.sh
```

Then restart your terminal or run:
```bash
source ~/.bashrc
direnv allow .
```

## üìã What Gets Configured

### **Automatic Environment Variables**
When you `cd` into the project directory:
- Loads `.env.local` automatically
- Sets up project-specific paths
- Configures Node.js environment

### **Node.js Version Management**
- Automatically switches to Node.js v20
- Uses `.nvmrc` file for version specification
- Ensures consistent Node version across team

### **Project Aliases**
Shortcuts available in the project directory:
- `dev` ‚Üí `pnpm run dev`
- `build` ‚Üí `pnpm run build`
- `safety` ‚Üí `pnpm run safety`
- `checkpoint` ‚Üí `pnpm run checkpoint`

### **Automatic Checks**
When entering the directory, it checks:
- If dependencies are installed
- If `.env.local` exists
- Current Node.js version
- Git repository status

## üõ†Ô∏è Manual Setup (If Automatic Fails)

### Step 1: Install direnv

```bash
# Install direnv
curl -sfL https://direnv.net/install.sh | bash

# Add to ~/.bashrc
echo 'eval "$(direnv hook bash)"' >> ~/.bashrc

# Reload shell
source ~/.bashrc
```

### Step 2: Install nvm

```bash
# Install nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# Reload shell
source ~/.bashrc

# Install Node.js 20
nvm install 20
nvm use 20
```

### Step 3: Configure Project

```bash
# Allow direnv for this project
direnv allow .

# Create .env.local from example
cp .env.example .env.local

# Install dependencies
pnpm install
```

## üìÅ Configuration Files

### `.envrc` (Auto-loaded by direnv)
```bash
# Loads when you enter the directory
# Sets up environment variables
# Configures project paths
# Creates helpful aliases
```

### `.nvmrc` (Node version)
```
20
```

### `activate.sh` (Manual activation)
```bash
# Use if direnv isn't working
source activate.sh
```

## üéØ How It Works

### Automatic Mode (Recommended)

1. **Enter project directory**:
   ```bash
   cd /path/to/LostMindAI-TurboRepo
   ```

2. **Environment activates automatically**:
   ```
   üöÄ LostMind AI Development Environment
   üìÅ Project: LostMindAI-TurboRepo
   üîß Node: v20 required
   ```

3. **Start working**:
   ```bash
   dev  # Starts development server
   ```

### Manual Mode (Fallback)

If automatic mode doesn't work:

```bash
# Activate manually
source activate.sh

# Or load environment variables only
export $(cat .env.local | grep -v '^#' | xargs)
```

## üîç Troubleshooting

### direnv not working

```bash
# Check if direnv is installed
which direnv

# Check if hook is in shell config
grep direnv ~/.bashrc

# Manually allow directory
direnv allow .
```

### Node version issues

```bash
# Check current version
node --version

# Switch to correct version
nvm use 20

# Set as default
nvm alias default 20
```

### Environment variables not loading

```bash
# Check .env.local exists
ls -la .env.local

# Manually load
set -a; source .env.local; set +a

# Verify loaded
echo $DATABASE_URL
```

## üö® Security Considerations

### DO ‚úÖ
- Keep `.env.local` in `.gitignore`
- Use `.env.example` as template
- Review `.envrc` before allowing with direnv
- Use project-specific Node versions

### DON'T ‚ùå
- Commit `.env.local` to git
- Share environment variables publicly
- Auto-allow direnv without reviewing
- Use system-wide environment for secrets

## üé≠ Multiple Projects Setup

If you have multiple projects:

### Per-Project Configuration

Each project gets its own:
- `.envrc` file
- `.nvmrc` file
- `.env.local` file
- VSCode settings

### Global Tools

Install once, use everywhere:
```bash
# Global development tools
npm install -g pnpm
npm install -g npm-check-updates
npm install -g typescript
```

## üìä Environment Status Check

Run this to verify your environment:

```bash
# Check all components
echo "Node: $(node --version)"
echo "npm: $(npm --version)"
echo "pnpm: $(pnpm --version)"
echo "direnv: $(direnv --version)"
echo "Git: $(git --version)"
```

## üîÑ Updating Environment Configuration

When project requirements change:

1. **Update `.nvmrc`** for new Node version:
   ```bash
   echo "21" > .nvmrc
   nvm install 21
   ```

2. **Update `.envrc`** for new variables:
   ```bash
   vim .envrc
   direnv allow .
   ```

3. **Update team**:
   ```bash
   git add .nvmrc .envrc
   git commit -m "chore: update environment configuration"
   ```

## ü§ù Team Collaboration

### For New Team Members

1. Clone repository
2. Run setup script:
   ```bash
   ./scripts/setup-auto-env.sh
   ```
3. Copy environment file:
   ```bash
   cp .env.example .env.local
   ```
4. Edit `.env.local` with their credentials

### Sharing Configuration

Safe to commit:
- `.envrc` (without secrets)
- `.nvmrc`
- `.env.example`
- `activate.sh`

Never commit:
- `.env.local`
- `.env` with real values
- Personal API keys

## üìö Related Documentation

- [direnv Documentation](https://direnv.net/)
- [nvm Documentation](https://github.com/nvm-sh/nvm)
- [Environment Variables Best Practices](https://12factor.net/config)
- [Project README](../README.md)

## üí° Tips

1. **Use direnv for all projects** - Consistency across projects
2. **Document required variables** - Keep `.env.example` updated
3. **Version control Node version** - Use `.nvmrc`
4. **Create project aliases** - Speed up common commands
5. **Automate checks** - Catch issues early

This setup ensures your Ubuntu system automatically configures the correct environment for this project, similar to Devin AI's automatic environment feature!