---
title: "ENVIRONMENT SECRETS AUDIT"
description: "documentation for LostMindAI-TurboRepo"
category: "documentation"
project: "LostMindAI-TurboRepo"
lastUpdated: "2025-09-21"
tags: "documentation,main-platform"
---

# üîê Environment Secrets Audit - LostMind AI

## Executive Summary

This document provides a comprehensive audit of all environment secrets required for the LostMind AI platform based on the current tech stack and implementation roadmap. Each secret is categorized by priority, service, and deployment environment.

## üö® Critical Secrets (Required for MVP)

### 1. Database Configuration
```bash
# PostgreSQL with Row Level Security (RLS)
DATABASE_URL="postgresql://[user]:[password]@[host]:[port]/[database]?schema=public"
DIRECT_URL="postgresql://[user]:[password]@[host]:[port]/[database]?schema=public"

# Options for providers (choose one):
# - Supabase: postgresql://postgres:[password]@db.[project].supabase.co:5432/postgres
# - Neon: postgresql://[user]:[password]@[project].neon.tech/[database]
# - Google Cloud SQL: postgresql://[user]:[password]@[ip-address]/[database]
```

**Notes**: 
- DIRECT_URL is for Prisma migrations (bypasses connection pooling)
- DATABASE_URL is for application connections (uses pooling)
- **Uncertainty**: Which provider will you use? Each has different connection strings

### 2. Authentication (Auth.js v5)
```bash
# Core Auth.js Configuration
NEXTAUTH_URL="https://lostmindai.com"  # Production
NEXTAUTH_SECRET="[32-char-random-string]"  # Generate: openssl rand -base64 32

# Google OAuth (Required)
GOOGLE_CLIENT_ID="[your-client-id].apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="[your-client-secret]"

# Optional OAuth Providers (for future)
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""
```

**Setup Required**:
1. Go to [Google Cloud Console](https://console.cloud.google.com)
2. Create OAuth 2.0 credentials
3. Add authorized redirect URIs:
   - `http://localhost:3000/api/auth/callback/google` (dev)
   - `https://lostmindai.com/api/auth/callback/google` (prod)
   - `https://ask.lostmindai.com/api/auth/callback/google` (prod)

### 3. AI Services (Google Generative AI)
```bash
# Google Gemini API (Primary AI Provider)
GOOGLE_GENERATIVE_AI_API_KEY="[your-gemini-api-key]"
GEMINI_API_KEY="[same-key-as-above]"  # Duplicate for compatibility

# Google Cloud Platform
GCP_PROJECT_ID="coral-muse-469919-m0"  # Your specific project
PROJECT_ID="coral-muse-469919-m0"  # Duplicate for compatibility
GOOGLE_APPLICATION_CREDENTIALS="/path/to/service-account-key.json"  # Local only

# Alternative AI Providers (Optional - for provider abstraction)
OPENAI_API_KEY=""  # If implementing OpenAI fallback
ANTHROPIC_API_KEY=""  # If implementing Claude fallback
```

**Notes**:
- Must use coral-muse project API keys
- Service account JSON file needed for local development
- **Uncertainty**: Will you implement multi-provider support immediately?

### 4. Payment Processing (Stripe)
```bash
# Stripe API Keys
STRIPE_SECRET_KEY="sk_test_[your-test-key]"  # Test mode
STRIPE_PUBLISHABLE_KEY="pk_test_[your-test-key]"  # Client-side
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_[your-test-key]"  # Next.js public

# Stripe Webhooks
STRIPE_WEBHOOK_SECRET="whsec_[your-webhook-secret]"

# Stripe Product/Price IDs (after creating in Stripe Dashboard)
STRIPE_PRICE_ID_BASIC="price_[basic-plan-id]"
STRIPE_PRICE_ID_PRO="price_[pro-plan-id]"
STRIPE_PRICE_ID_ENTERPRISE="price_[enterprise-plan-id]"
```

**Setup Required**:
1. Create products in Stripe Dashboard
2. Set up webhook endpoint: `https://lostmindai.com/api/webhooks/stripe`
3. Configure webhook events (customer.subscription.*, payment_intent.*, etc.)

## üìä Infrastructure & Deployment

### 5. Vercel Configuration
```bash
# Vercel (Automatically set by Vercel)
VERCEL_URL=""  # Set automatically
VERCEL_ENV=""  # "production", "preview", or "development"
VERCEL_GIT_COMMIT_SHA=""  # Set automatically

# Custom Domains
NEXT_PUBLIC_APP_URL="https://lostmindai.com"
NEXT_PUBLIC_ASK_URL="https://ask.lostmindai.com"
NEXT_PUBLIC_ADMIN_URL="https://admin.lostmindai.com"
```

### 6. Google Cloud Services
```bash
# Cloud Run Service URLs (FastAPI)
DOCUMENT_SERVICE_URL="https://document-processor-[hash]-uc.a.run.app"
CRAWLER_SERVICE_URL="https://crawler-engine-[hash]-uc.a.run.app"
AI_COMPUTE_SERVICE_URL="https://ai-compute-[hash]-uc.a.run.app"

# Google Cloud Pub/Sub (for async processing)
PUBSUB_TOPIC_DOCUMENTS="projects/coral-muse-469919-m0/topics/document-processing"
PUBSUB_TOPIC_CRAWL="projects/coral-muse-469919-m0/topics/web-crawl"
PUBSUB_TOPIC_AI_JOBS="projects/coral-muse-469919-m0/topics/ai-jobs"

# Google Cloud Storage (for file uploads)
GCS_BUCKET_NAME="lostmind-uploads"
GCS_BUCKET_DOCUMENTS="lostmind-documents"
GCS_BUCKET_CRAWL_CACHE="lostmind-crawl-cache"
```

**Notes**:
- Cloud Run URLs are generated after deployment
- **Uncertainty**: Exact bucket names and Pub/Sub topics need to be created

## üîç Monitoring & Analytics

### 7. Analytics & Monitoring
```bash
# PostHog (Product Analytics)
NEXT_PUBLIC_POSTHOG_KEY="phc_[your-project-key]"
NEXT_PUBLIC_POSTHOG_HOST="https://app.posthog.com"  # or self-hosted URL

# Sentry (Error Tracking) - Optional but recommended
NEXT_PUBLIC_SEN

---
*This content was automatically extracted from LostMindAI-TurboRepo. For the most up-to-date information, refer to the source project.*
